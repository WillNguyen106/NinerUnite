<%- include('../partials/header.ejs', {cs: 'homepage'})%>
<h2 class="text-center mt-5">Edit Post</h2>

<!-- Receiving the Textbook -->
<div class="container my-5">

    <form action="/books/<%= book.id%>?_method=PUT" enctype="multipart/form-data" method='POST'>
        <!--horizontal center by using bootstrap's grid alignment for rows-->
        <div class="row justify-content-center">

            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="title" class="form-label fw-bold">Title:</label>
                </div>
                <div class="col-md-10">
                    <input class="form-control bg-light text-dark border-0" type="text" id="title" name="title"
                        placeholder="Ex: Computer Organization and Design RISC-V Edition" value="<%= book.title%>" required>
                </div>
            </div>

            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="author" class="form-label fw-bold">Author:</label>
                </div>
                <div class="col-md-10">
                    <input class="form-control bg-light text-dark border-0" type="text" id="author" name="author"
                        placeholder="Ex: David Patterson, John Hennessy" value="<%= book.author%>" required>
                </div>

            </div>


            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="isbn" class="form-label fw-bold">ISBN:</label>
                </div>
                <div class="col-md-10 col-form-label">
                    <input class="form-control bg-light text-dark border-0" type="text" id="isbn" name="isbn"
                        placeholder="Ex: 9780128122761" value="<%= book.isbn%>" required>
                </div>
            </div>


            <div class="row mb-4 w-75">
                <div class="col-lg-2 col-form-label">
                    <label for="condition" class="form-label fw-bold">Condition:</label>
                </div>
                <div class="col-lg-10">
                    <textarea class="form-control bg-light text-dark border-0" id="condition" name="condition"
                        placeholder="Ex: Pages 120-136 are missing, my dog ate them." required><%= book.condition%></textarea>
                </div>

            </div>

            <div class="row mb-4 w-75">

                <div class="col-md-2 col-form-label">
                    <label for="price" class="form-label fw-bold">Price:</label>
                </div>

                <div class="col-md-10">
                    <input class="form-control bg-light text-dark border-0" type="text" id="price" name="price"
                        placeholder="Ex: 1,2,50,100" value="<%= book.price%>" required>
                </div>

            </div>

            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="image" class="form-label fw-bold">Image:</label>
                </div>
                <div class="col-md-10">
                    <!--currently accepts any type of image, but this could change-->
                    <input class="form-control" type="file" id="image" name="image" accept="image/*" value="<%=book.image%>" multiple>
                </div>
            </div>

            <!-- Button trigger modal for save message -->
            <div class="text-center">
            
            <!--Cancel form-->
            <!-- <button class="btn btn-danger btn-lg text-end m-1" type="submit" formmethod="GET" formaction="/books/<%= book.id %>">Cancel</button> -->
            <a class="btn btn-danger btn-lg text-end m-1" href="javascript:history.back()">Cancel</a>
            <button type="button" class="btn btn-success btn-lg text-end m-1" data-bs-toggle="modal" data-bs-target="#SaveMessage">
                Submit
            </button>
            </div>



        </div>

        <!-- Modal for save message -->
        <div class="modal fade" id="SaveMessage" tabindex="-1" aria-labelledby="SaveMessageLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="DeleteMessageLabel"><%= book.title %></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancel"></button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to save?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                        </div>
                    </div>
                </div>
        </div>


    </form>

</div>
    <%- include('../partials/footer.ejs')%>