<%- include('../partials/header.ejs', {cs: 'listStyle'})%>

    <div class="container p-3">
        <h1>Book List</h1>
        <br>
        <%if(books.length){ %>

            <div class="row">
                <div class="col-md-3">
                    <div class="container border text-break sticky-top p-3">

                        <h1>Filters</h1>

                        <!--accordion to minimize the filtering options-->

                        <div class="accordion" id="filterAccordion">
                            <!--accordion item #1: price filter options-->
                            <div class="accordion-item">
                                <h3 class="accordion-header">
                                    <button 
                                    class="accordion-button collapsed"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#priceFilter"
                                    aria-expanded="false"
                                    aria-controls="priceFilter"
                                    >
                                        Price
                                    </button>

                                </h3>
                                <div
                                    id="priceFilter"
                                    class="accordion-collapse collapse"
                                    data-bs-parent="#filterAccordion"
                                >
                                    <div class="accordion-body">

                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="" id="priceOption1">
                                            <label class="form-check-label" for="priceOption1">
                                                $0 - $200
                                            </label>
                                        </div>

                                    </div>
                                </div>

                            </div>

                            <!--future accordion items-->
                        </div>


                    </div>

                </div>

                <div class="col-md-9">


                    <table class="table border">
                        <tr>
                            <th scope="col">Book Title</th>
                            <th scope="col">Book Author</th>
                            <th scope="col">Price</th>
                        </tr>
        
                    <tbody>
                    <%books.forEach(book=>{%>
                        <tr class="select listItem">
                            <td class="">
                                <a  href="/books/<%=book.id%>"><p><%= book.title %></p></a>
                            </td>
                            <td>
                                <p><%= book.author %></p>
                            </td>
                            <td>
                                <p>$<%= book.price %></p>
                            </td>
                        </tr>
                    <% }); %>
        
                    </tbody>
                    </table>

                </div>

            </div>
            

            
            
        <%} else {%>
            <h2>There are no books to display</h2>
        <%} %>
    </div>

<%- include('../partials/footer.ejs')%>