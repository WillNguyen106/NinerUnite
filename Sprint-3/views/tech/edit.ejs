<%- include('../partials/header.ejs', {cs: 'homepage'})%>
<h2 class="text-center mt-5">Edit Tech Post</h2>

<!-- Receiving the Tech -->
<div class="container my-5">

    <form action="/techs/<%= tech.id%>?_method=PUT" enctype="multipart/form-data" method='POST'>
        <!--horizontal center by using bootstrap's grid alignment for rows-->
        <div class="row justify-content-center">

            <!--Name/Brand Section-->
            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                     <label for="brand" class="form-label fw-bold">Name/Brand:</label>
                </div>
                <div class="col-md-10">
                    <input class="form-control inputBox bg-light text-dark border-0" type="text" id="brand" name="brand"
                        placeholder="Ex: Apple MacBook Pro13&quot;, Bose Headphones" value="<%=tech.brand%>" required>
                </div>
            </div>

            <!--Description Section-->
            <!--must have more than 10 characters according to model-->
            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="description" class="form-label fw-bold">Description:</label>
                </div>
                <div class="col-md-10">
                    <textarea class="form-control inputBox bg-light text-dark border-0" type="text" id="description" name="description"
                        placeholder="Ex: Specs about the piece of technology" minlength="10" value="<%=tech.description%>" required><%=tech.description%></textarea>
                </div>

            </div>


             <!--Condition Section-->
             <div class="row mb-4 w-75">
                <div class="col-lg-2 col-form-label">
                    <label for="condition" class="form-label fw-bold">Condition:</label>
                </div>
                <div class="col-lg-10">
                    <textarea class="form-control inputBox bg-light text-dark border-0" id="condition" name="condition"
                        placeholder="Ex: Burrito Juice Damage to Keyboard, Cracked Screen" value="<%=tech.condition%>" required><%=tech.condition%></textarea>
                </div>

            </div>


           <!--Price Section-->
           <div class="row mb-4 w-75">

                <div class="col-md-2 col-form-label">
                    <label for="price" class="form-label fw-bold">Price:</label>
                </div>

                <div class="col-md-10">
                    <input class="form-control inputBox bg-light text-dark border-0" type="text" id="price" name="price"
                        placeholder="Ex: 300, 250" value="<%=tech.price%>" required>
                </div>

            </div>

            <!--Image Section-->
            <div class="row mb-4 w-75">
                <div class="col-md-2 col-form-label">
                    <label for="image" class="form-label fw-bold">Image:</label>
                </div>
                <div class="col-md-10">
                    <!--currently accepts any type of image, but this could change-->
                    <input class="form-control" type="file" id="image" name="image" value="<%=tech.image%>" accept="image/*" multiple>
                </div>
            </div>

            <!-- Button trigger modal for save message -->
            <div class="text-center">
            
            <!--Cancel form-->
            <!-- <button class="btn btn-danger btn-lg text-end m-1" type="submit" formmethod="GET" formaction="/techs/<%= tech.id %>">Cancel</button> -->
            <a class="btn btn-danger btn-lg text-end m-1" href="javascript:history.back()">Cancel</a>
            <button type="button" class="btn btn-success btn-lg text-end m-1" data-bs-toggle="modal" data-bs-target="#SaveMessage">
                Submit
            </button>
            </div>



        </div>

        <!-- Modal for save message -->
        <div class="modal fade" id="SaveMessage" tabindex="-1" aria-labelledby="SaveMessageLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="SaveMessageLabel"><%= tech.brand %></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancel"></button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to save?
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                        </div>
                    </div>
                </div>
        </div>


    </form>

</div>
    <%- include('../partials/footer.ejs')%>